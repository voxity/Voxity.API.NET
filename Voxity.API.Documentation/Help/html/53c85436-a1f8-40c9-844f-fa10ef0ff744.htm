<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Welcome to the Voxity.API .NET Library</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="Welcome" /><meta name="Microsoft.Help.Id" content="53c85436-a1f8-40c9-844f-fa10ef0ff744" /><meta name="Description" content="This is a library which provide a abstraction layer between the Voxity APIhttps://api.voxity.fr/doc/ and .NET applications." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Voxity.API .NET Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="53c85436-a1f8-40c9-844f-fa10ef0ff744.htm" title="Voxity.API .NET Library" tocid="roottoc">Voxity.API .NET Library</a></div><div class="toclevel1 current" data-toclevel="1"><a data-tochassubtree="false" href="53c85436-a1f8-40c9-844f-fa10ef0ff744.htm" title="Welcome to the Voxity.API .NET Library" tocid="53c85436-a1f8-40c9-844f-fa10ef0ff744">Welcome to the Voxity.API .NET Library</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="d3e93931-8ce4-4e4b-b483-b62314b371c3.htm" title="Version History" tocid="d3e93931-8ce4-4e4b-b483-b62314b371c3">Version History</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Voxity_API.htm" title="Voxity.API" tocid="N_Voxity_API">Voxity.API</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Voxity_API_EndPoints.htm" title="Voxity.API.EndPoints" tocid="N_Voxity_API_EndPoints">Voxity.API.EndPoints</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Voxity_API_Models.htm" title="Voxity.API.Models" tocid="N_Voxity_API_Models">Voxity.API.Models</a></div><div class="toclevel1" data-toclevel="1"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="N_Voxity_API_Utils.htm" title="Voxity.API.Utils" tocid="N_Voxity_API_Utils">Voxity.API.Utils</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="logoColumn"><img width="48" height="48" src="../icons/VoxApiLibLogoBlue.png" /></td><td class="titleColumn">Welcome to the Voxity.API .NET Library</td></tr></table><span class="introStyle"></span><div class="introduction"><p>
        This is a library which provide a abstraction layer between the <a href="https://api.voxity.fr/doc/" target="_blank">Voxity API</a> and .NET applications.
      </p><p>
        The library manages authentication, endpoints requests, and translated responses to a business model-awards object.
      </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Getting Started</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
          To get started, register your application in <a href="https://client.voxity.fr/voxity-api/configuration" target="_blank">Voxity API interface</a>.
          Then, add <strong>Voxity.API</strong> <a href="https://msdn.microsoft.com/en-us/library/hh708954(v=vs.140).aspx" target="_blank">reference</a> to your project.
        </p></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Requirements</span></div><div id="ID1RBSection" class="collapsibleSection"><p><strong>Voxity.API</strong> library takes 6 <em><a href="https://client.voxity.fr/voxity-api/configuration" target="_blank">properties</a></em>.
        </p><ul><li><p>
              4 mandatorys <em>properties</em> :
            </p><ul class="noBullet"><li><p><a href="P_Voxity_API_ApiSession_ClientId.htm">ClientId</a></p></li><li><p><a href="P_Voxity_API_ApiSession_ClientSecret.htm">ClientSecret</a></p></li><li><p><a href="P_Voxity_API_ApiSession_HostRedirect.htm">HostRedirect</a></p></li><li><p><a href="P_Voxity_API_ApiSession_PortRedirect.htm">PortRedirect</a></p></li></ul></li><li><p>
              2 optional <em>properties</em> :
            </p><ul class="noBullet"><li><p><a href="P_Voxity_API_ApiSession_AccessToken.htm">AccessToken</a></p></li><li><p><a href="P_Voxity_API_ApiSession_RefreshToken.htm">RefreshToken</a></p></li></ul></li></ul></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Usage</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
          The following steps show how to use the library :
        </p><ol><li><p>
              To open a session on the <strong>Voxity.API</strong>, call the <a href="T_Voxity_API_ApiSession.htm">ApiSession</a> and provide at least the 4 parameters required.
              It's highly recommended to implement a singleton pattern for the session (the example below use a singleton session).
              It's also recommended to store your AccessToken and RefreshToken to skip the authentification process for the next time.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAACAACAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAACAACAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAACAACAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAACAACAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">using</span> Voxity.API;

<span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">public</span> <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">class</span> ApiManager()
{

    <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">private</span> <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">static</span> Voxity.API.ApiSession session;

    <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">public</span> <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">static</span> Voxity.API.ApiSession Session
    {
        <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">get</span>
        {
            <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">if</span> (session == <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">null</span>)
            {
                session = <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">new</span> Voxity.API.ApiSession(

                    <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Mandatory propertys</span>
                    clientId: <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"XXXXXXXXXXXXXXXXXXXX"</span>,
                    clientSecret: <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"XXXXXXXXXXXXXXXXXXXX"</span>,
                    hostRedirect: <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"Host_IP_or_Name"</span>,
                    hostPort: [0-65500],

                    <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Optionals propertys (if you never stores there values it can be null)</span>
                    accessToken: <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"XXXXXXXXXXXXXXXXXXXX"</span>, <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// can be the value of your last AccessToken stored</span>
                    refreshToken: <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"XXXXXXXXXXXXXXXXXXXX"</span> <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// can be the value of your last RefreshToken stored</span>

                );
            }
            <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">else</span> <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Optionnal too, use it if you've stored your tokens the last time</span>
            {
                <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Use this statement to overwrite the last Access Token value stored</span>
                <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">if</span>(oldAccessTokenStore != session.AccessToken)
                {
                    oldAccessTokenStore = session.AccessToken;
                }

                <span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Use this condition to overwrite the last Refresh Token value stored</span>
                <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">if</span> (oldRefreshTokenStore != session.RefreshToken)
                {
                    oldRefreshTokenStore = session.RefreshToken;
                }
            }
            <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">return</span> session;
        }
    }
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAACAACAAA");</script></li><li><p /><p>
              To autenticate in the API, you must provide a code. To do this, ask authorization to the user by providing the <a href="P_Voxity_API_ApiSession_AskAuthUri.htm">authorization Uri</a>.
              When the user authenticates and allows your app to acceed at their own Voxity account datas, the API redirects the user into your redirect uri page.
              At the same time, the API provides the code to get the access token. 
              You can use <a href="https://msdn.microsoft.com/en-us/library/system.net.httplistener(v=vs.110).aspx" target="_blank">HttpListener</a> to get the code in the uri.
            </p><p>
              You don't have to repeat this step once you've got the tokens.
              UriRedirect (e.g. http://localhost:8080) is just a field for the API. It's not a obligation to have a web server in listening on this address.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAABAACAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAABAACAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAABAACAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAABAACAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// API's code previously returned in parameter of your uri redirect</span>
ApiManager.Session.Connect(code);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAABAACAAA");</script></li><li><p /><p>
              Finally, call Endpoints you want to execute. 
            </p><p><strong>Synthaxe : </strong></p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAACAAACAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAACAAACAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAACAAACAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAACAAACAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">ApiManager.Session.EndPointClass.EndPointMethod(arguments);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAACAAACAAA");</script><p>
              If you want to store endpoint result into a object, use <a href="N_Voxity_API_Models.htm">Models.Type</a> for the <a href="N_Voxity_API_EndPoints.htm">type</a> of your object.
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAAAAACAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAAAAACAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAAAAACAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAAAAACAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Models.Type obj = ApiManager.Session.EndPointClass.EndPointMethod(arguments);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAAAAACAAA");</script></li></ol></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID4RBSection" class="collapsibleSection"><p><strong>Call a phone :</strong></p><p>
          This example <a href="M_Voxity_API_EndPoints_Calls_CreateChannel.htm">call</a> a given <a href="M_Voxity_API_EndPoints_Calls_CreateChannel.htm">phone number</a>.
        </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAKABAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAKABAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAKABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAKABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">ApiManager.Session.Calls.create_channel(<span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"+33 6 12 34 56 78"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAKABAAA");</script><p /><p><strong>Get current user information</strong></p><p>
          This example stores <a href="M_Voxity_API_EndPoints_Users_WhoAmI.htm">user</a> informations into <span class="code">user</span> then display the current user name.
        </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAGABAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAGABAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAGABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAGABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Models.User user = ApiManager.Session.Users.who_am_i();
Console.WriteLine(<span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">"Hello "</span> + user.name + <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">" !"</span>);</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAGABAAA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAFABAAA_tab1" class="codeSnippetContainerTabSingle">Console Output</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAFABAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAFABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAFABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Hello Xavier BRASSOUD !</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAFABAAA");</script><p /><p><strong>Get contact list :</strong></p><p>
          This example store list of <a href="M_Voxity_API_EndPoints_Contacts_ContactList.htm">contacts</a> into <span class="code">contacts</span> then them display.
        </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAABABAAA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAABABAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAABABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAABABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">List&lt;Models.Contact&gt; contacts = ApiManager.Session.Contacts.contact_list();

<span class="comment" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">// Display contact info</span>
<span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">foreach</span> (contact <span class="keyword" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">in</span> contacts) {
    Console.WriteLine(contact.cn + <span class="literal" xmlns="http://ddue.schemas.microsoft.com/authoring/2003/5">":"</span> + contact.mail);
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAABABAAA");</script><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAABAAA_tab1" class="codeSnippetContainerTabSingle">Console Output</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAABAAA_copyCode" href="#" onclick="javascript:CopyToClipboard('ID2EAAABAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAABAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve">Léa RICO : lea.rico@vox.fr
Alain PROVISTE : alain.proviste@vox.fr
Lara CLETTE : lara.clette@vox.fr
Jean RIGOLE : jean.rigole@vox.fr</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAABAAA");</script></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="d3e93931-8ce4-4e4b-b483-b62314b371c3.htm">Version History</a></div><div class="seeAlsoStyle"><a href="https://api.voxity.fr/doc/" target="_blank">Voxity API</a></div></div></div></div><div id="pageFooter" class="pageFooter" /></body></html>